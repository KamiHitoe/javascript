<!DOCTYPE html>
<html>
<head lang="ja">
  <meta charset="utf-8">
  <title>demo</title>
</head>

<body>
  <h1>React demo page</h1>
  <div id="root"></div>
  

  <script src="https://unpkg.com/react@17/umd/react.development.js" crossorigin></script>
  <script src="https://unpkg.com/react-dom@17/umd/react-dom.development.js" crossorigin></script>
  <!-- JSX -->
  <script src="https://unpkg.com/babel-standalone@6/babel.min.js"></script>
  
  <!-- Component -->
  <script type="text/babel">
  class Child extends React.Component {
    constructor(props) {
      super(props);
      this.state = {value: ''};
      this.childHandler = this.childHandler.bind(this);
      this.fireParent = this.fireParent.bind(this);
    }

    childHandler(event) {
      this.setState({value: event.target.value});
    }

    fireParent(e) {
      this.props.onParentHandler(this.state.value);
      e.preventDefault();
    }

    render() {
      return(
        <form>
          <label htmlFor="input">input</label>
          <input 
            id="input"
            type="text"
            value={this.state.value}
            onChange={this.childHandler}
          />
          <button onClick={this.fireParent}>fire</button>
        </form>
      )
    }
  }

  class Parent extends React.Component {
    constructor(props) {
      super(props);
    }

    parentHandler(element) {
      console.log(element);
    }

    render() {
      return(
        <Child onParentHandler={this.parentHandler} />
      )
    }
  }

  ReactDOM.render(
    <Parent />,
    document.querySelector("#root")
  );


  </script>
</body>

</html>


